apiVersion: v1
kind: Secret
metadata:
  name: cv-hub-secrets
  namespace: cv-hub-dev
type: Opaque
stringData:
  # Generate with: openssl rand -base64 32
  jwt-access-secret: "CHANGE_ME_jwt_access_secret"
  jwt-refresh-secret: "CHANGE_ME_jwt_refresh_secret"
  csrf-secret: "CHANGE_ME_csrf_secret"

  # Database connection (use managed DB or in-cluster)
  database-url: "postgresql://cvhub:CHANGE_ME@postgres:5432/cvhub_dev"

  # Redis connection
  redis-url: "redis://redis:6379"

  # Stripe API keys (test mode for dev)
  stripe-secret-key: "sk_test_CHANGE_ME"
  stripe-webhook-secret: "whsec_CHANGE_ME"
  stripe-publishable-key: "pk_test_CHANGE_ME"

  # OpenRouter API key for AI features
  openrouter-api-key: "sk-or-v1-CHANGE_ME"

  # Email service (for notifications)
  # sendgrid-api-key: "SG.CHANGE_ME"
  # resend-api-key: "re_CHANGE_ME"

---
# Apply secrets with:
# kubectl apply -f secrets.yaml
#
# Or create from CLI:
# kubectl -n cv-hub-dev create secret generic cv-hub-secrets \
#   --from-literal=jwt-access-secret=$(openssl rand -base64 32) \
#   --from-literal=jwt-refresh-secret=$(openssl rand -base64 32) \
#   --from-literal=csrf-secret=$(openssl rand -base64 32) \
#   --from-literal=database-url=postgresql://... \
#   --from-literal=stripe-secret-key=sk_test_... \
#   --from-literal=stripe-webhook-secret=whsec_...
